# 第三方工院云课堂

## TODO

- [x] 实现线上课堂系统的各主要接口的适配器 (数据清洗)
- [x] 优化判断是否返回登录页的检测函数

- [x] 实现事件总线
  - 课程状态变化事件
  - 作业发布事件

- [x] 实现课表智能轮询
  - 默认情况下按作息表轮询, 每个阶段开始后轮询一次, 一天最多10次轮询
  - 周末暂停轮询
  - 节假日暂停轮询
  - 补班日按默认情况轮询
  - 轮询一次后 diff 新旧课表数据, 发现有课程状态改变就触发事件
  - 目的:
    - 提供课程状态变化事件
    - 提供最新课表的数据

- [x] 实现课程作业智能轮询
  - 默认情况下按作息表开始轮询
    - 获取最新课表数据, 如果该阶段有课程且课程进行中, 则开始进行间隔轮询作业列表, 直到课程下课
    - 获取最新课表数据, 如果该阶段无课程或课程未开启, 则跳过, 直到下一个阶段
  - 目的:
    - 提供作业发布事件

- [x] 优化登录状态管理, 不应该由基础设施来管理
